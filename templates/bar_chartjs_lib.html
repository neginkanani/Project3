<!doctype html>
<html lang="en">
	<!-- Kelly's bar chart from chart.js -->

<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <title>Brewery Bar Chart</title>
	<style>
		* {
		  margin: 0;
		  padding: 0;
		  font-family: sans-serif;
		}
		.chartMenu {
		  width: 100vw;
		  height: 40px;
		  background: #f5f0f0;
		  color: rgb(247, 250, 252);
		}
		.chartMenu p {
		  padding: 10px;
		  font-size: 20px;
		}
		.chartCard {
		  width: 100vw;
		  height: calc(100vh - 40px);
		  background: rgba(255, 255, 255, 0.6);
		  display: flex;
		  align-items: center;
		  justify-content: center;
		}
		.chartBox {
		  width: 60%;
		  padding: 20px;
		  border-radius: 20px;
		  border: solid 3px rgb(255, 255, 255);
		  background: white;
		  
		}
		</style>
<!-- <div class="bg-image text-center shadow-1-strong rounded mb-5 text-black" style="background-image: url('../static/img/beer-craft-beer-brewery-alcohol.jpg');
height:100vh;"> -->

  <div class="mask" style="background-color: rgba(255, 255, 255, 0.6);
height:100vh;">
	<div class="container">
	  <div class="row">
		<!-- <div class="col-sm-6 col-md-4 col-lg-3"> </div> -->
		<header class="d-flex justify-content-left py-8">
		  <ul class="nav nav-pills">
			<li class="nav-item" style="font-size: 1.2pc;"><a href="#" class="nav-link active"
				aria-current="page">Home</a></li>
			<li class="nav-item" style="font-size: 1.2pc;"><a href="/Breweries.html" class="nav-link">Breweries</a>
			</li>
			<li class="nav-item" style="font-size: 1.2pc;"><a href="#" class="nav-link">FAQs</a></li>
			<li class="nav-item" style="font-size: 1.2pc;"><a href="#" class="nav-link">About</a></li>
		  </ul>
		  <hr>
		  </hr>
		</header>

<script src="http://d3js.org/d3.v4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
 <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">

        <div class="well jumbotron text-center w-100" style="background-color: #bd8b41;">
          <!-- Jumbotron -->

          <h1 class="mb-5 h2">Top Rated Breweries</h1>

          <p>
            Use the interactive charts below to explore the msot famouse breweries in the world
          </p>
        </div>
<div id="chartContainer2">
	<body>
		<!-- <div class="chartMenu">
		  <p></p> (Chart JS <span id="chartVersion"></span>)</p>
		</div> -->
		<div class="chartCard">
		  <div class="chartBox">
			<canvas id="myChart"></canvas>
		  </div>
		</div>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js/dist/chart.umd.min.js"></script>
		<script>


    const ctx = document.getElementById('myChart');
    d3.json("/data/brewery_untappd_export_MD.json", function (data) {


      console.log(data);

	let unique = [...new Set(data.map(item => item.brewery_type))];
	console.log(unique);

	//var data = // your data here
	var categories = data.reduce(function(acc, crime) {
  	if (!acc[crime.brewery_type])   // if current category not in acc object
    	acc[crime.brewery_type] = 1;  // add it to acc with value 1
  		else                        // otherwise (it exists), so
    	acc[crime.brewery_type]++;    // increment it
  	return acc;
	}, {});
	console.log(categories);
	console.log(categories["brewery_type"]);
	let types = Object.keys(categories);
	let count = Object.values(categories);
	console.log(types);
	console.log(count);

	new Chart(ctx, {
    	type: 'bar',
		data: {
		labels: types,
		datasets: [{
			label: 'Count',
			data: count,
			borderWidth: 2
		}]
    	},
		backgroundColor: [
          'rgba(255, 26, 104, 0.2)', //90% has color
          'transparent'
	],
    	options: {
      	scales: {
        	y: {
          	beginAtZero: true
        	}
      	},
		plugins: {
			tooltip:{
				enabled:false
			},
				//remove the legned box so that the doughnut chart is 
			legend: {
				display: false
			}
    	}
	}
  	});
	
    	});
		chart.update()
  </script>
</body>
<!-- <div class="container">
	<footer class="py-3 my-4">
	  <ul class="nav justify-content-center border-bottom pb-3 mb-3">
		<li class="nav-item" style="font-size: 1.2pc;"><a href="#"
			class="nav-link px-2 text-body-secondary">Home</a></li>
		<li class="nav-item" style="font-size: 1.2pc;"><a href="#"
			class="nav-link px-2 text-body-secondary">Breweries</a></li>
		<li class="nav-item" style="font-size: 1.2pc;"><a href="#"
			class="nav-link px-2 text-body-secondary">FAQs</a></li>
		<li class="nav-item" style="font-size: 1.2pc;"><a href="#"
			class="nav-link px-2 text-body-secondary">About</a></li>
	  </ul>
	  <p class="text-center text-body-secondary">Â© 2023 Company, Inc</p>
	</footer>
  </div> -->



